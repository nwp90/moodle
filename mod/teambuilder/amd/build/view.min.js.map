{"version":3,"sources":["../src/view.js"],"names":["define","$","maxwidth","setup","find","each","width","table","div","addClass","append","empty","css","validateForm","e","valid","target","closest","length","removeClass","registerEventListeners","on","init"],"mappings":"AAAAA,OAAM,wBAAC,CAAC,QAAD,CAAD,CAAa,SAASC,CAAT,CAAY,IACvBC,CAAAA,CAAQ,CAAG,EADY,CAGvBC,CAAK,CAAG,UAAW,CACnBF,CAAC,CAAC,UAAD,CAAD,CAAcG,IAAd,CAAmB,OAAnB,EAA4BC,IAA5B,CAAiC,UAAW,CACxC,GAAIJ,CAAC,CAAC,IAAD,CAAD,CAAQK,KAAR,GAAkBJ,CAAtB,CAAgC,CAC5BA,CAAQ,CAAGD,CAAC,CAAC,IAAD,CAAD,CAAQK,KAAR,EACd,CACJ,CAJD,EAMAL,CAAC,CAAC,UAAD,CAAD,CAAcI,IAAd,CAAmB,UAAW,CAC1B,GAAIE,CAAAA,CAAK,CAAGN,CAAC,CAAC,SAAD,CAAb,CACAA,CAAC,CAAC,IAAD,CAAD,CAAQG,IAAR,CAAa,OAAb,EAAsBC,IAAtB,CAA2B,UAAW,CAClC,GAAIG,CAAAA,CAAG,CAAGP,CAAC,CAAC,SAAD,CAAX,CACAO,CAAG,CAACC,QAAJ,CAAa,UAAb,EACAD,CAAG,CAACF,KAAJ,CAAUJ,CAAV,EACAM,CAAG,CAACE,MAAJ,CAAWT,CAAC,CAAC,IAAD,CAAZ,EACAM,CAAK,CAACG,MAAN,CAAaF,CAAb,CACH,CAND,EAOAP,CAAC,CAAC,IAAD,CAAD,CAAQU,KAAR,GACAV,CAAC,CAAC,IAAD,CAAD,CAAQS,MAAR,CAAeH,CAAf,EACAN,CAAC,CAAC,IAAD,CAAD,CAAQW,GAAR,CAAY,WAAZ,CAAyB,SAAzB,CACH,CAZD,CAaH,CAvB0B,CAyBvBC,CAAY,CAAG,SAASC,CAAT,CAAY,CAC3B,GAAIC,CAAAA,CAAK,GAAT,CAEAd,CAAC,CAACa,CAAC,CAACE,MAAH,CAAD,CAAYZ,IAAZ,CAAiB,kCAAjB,EAAqDa,OAArD,CAA6D,UAA7D,EAAyEZ,IAAzE,CAA8E,UAAW,CACrF,GAAiD,CAA7C,CAAAJ,CAAC,CAAC,IAAD,CAAD,CAAQG,IAAR,CAAa,qBAAb,EAAoCc,MAAxC,CAAoD,CAChDjB,CAAC,CAAC,IAAD,CAAD,CAAQgB,OAAR,CAAgB,cAAhB,EAAgCE,WAAhC,CAA4C,gBAA5C,EACA,QACH,CACD,GAAyD,CAArD,CAAAlB,CAAC,CAAC,IAAD,CAAD,CAAQG,IAAR,CAAa,6BAAb,EAA4Cc,MAAhD,CAA4D,CACxDjB,CAAC,CAAC,IAAD,CAAD,CAAQgB,OAAR,CAAgB,cAAhB,EAAgCE,WAAhC,CAA4C,gBAA5C,EACA,QACH,CACDJ,CAAK,GAAL,CACAd,CAAC,CAAC,IAAD,CAAD,CAAQgB,OAAR,CAAgB,cAAhB,EAAgCR,QAAhC,CAAyC,gBAAzC,CACH,CAXD,EAaA,MAAOM,CAAAA,CACV,CA1C0B,CA4CvBK,CAAsB,CAAG,UAAW,CACpCnB,CAAC,CAAC,oBAAD,CAAD,CAAwBoB,EAAxB,CAA2B,QAA3B,CAAqCR,CAArC,CACH,CA9C0B,CAgD3B,MAAO,CACHS,IAAI,CAAE,eAAW,CACbnB,CAAK,GACLiB,CAAsB,EACzB,CAJE,CAMV,CAtDK,CAAN","sourcesContent":["define(['jquery'], function($) {\n    var maxwidth = 80;\n\n    var setup = function() {\n        $(\".answers\").find(\"label\").each(function() {\n            if ($(this).width() > maxwidth) {\n                maxwidth = $(this).width();\n            }\n        });\n\n        $(\".answers\").each(function() {\n            var table = $(\"<div />\");\n            $(this).find(\"label\").each(function() {\n                var div = $(\"<div />\");\n                div.addClass(\"response\");\n                div.width(maxwidth);\n                div.append($(this));\n                table.append(div);\n            });\n            $(this).empty();\n            $(this).append(table);\n            $(this).css(\"visbility\", \"visible\");\n        });\n    };\n\n    var validateForm = function(e) {\n        var valid = true;\n\n        $(e.target).find(\".atleastone, input[type='radio']\").closest(\".answers\").each(function() {\n            if ($(this).find(\".atleastone:checked\").length > 0) {\n                $(this).closest(\"div.question\").removeClass(\"ui-state-error\");\n                return true; // Equiv. to continue in each() loop.\n            }\n            if ($(this).find(\"input[type='radio']:checked\").length > 0) {\n                $(this).closest(\"div.question\").removeClass(\"ui-state-error\");\n                return true; // Equiv. to continue in each() loop.\n            }\n            valid = false;\n            $(this).closest(\"div.question\").addClass(\"ui-state-error\");\n        });\n\n        return valid;\n    };\n\n    var registerEventListeners = function() {\n        $('#questionnaireform').on('submit', validateForm);\n    };\n\n    return {\n        init: function() {\n            setup();\n            registerEventListeners();\n        }\n    };\n});\n"],"file":"view.min.js"}