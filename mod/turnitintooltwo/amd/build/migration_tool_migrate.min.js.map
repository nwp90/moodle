{"version":3,"sources":["../src/migration_tool_migrate.js"],"names":["define","$","migration_tool_migrate","courseid","turnitintoolid","ajax","url","M","cfg","wwwroot","action","sesskey","success","data","window","location","href","id","error","responseJSON","prepend","message"],"mappings":"AASAA,OAAM,8CAAC,CAAC,QAAD,CAAD,CACF,SAASC,CAAT,CAAY,CACR,MAAO,CACHC,sBAAsB,CAAE,gCAASC,CAAT,CAAmBC,CAAnB,CAAmC,CACvDH,CAAC,CAACI,IAAF,CAAO,CACH,SAAY,MADT,CAEH,KAAQ,MAFL,CAGHC,GAAG,CAAEC,CAAC,CAACC,GAAF,CAAMC,OAAN,CAAgB,+BAHlB,CAIH,KAAQ,CAACC,MAAM,CAAE,iBAAT,CAA4BP,QAAQ,CAAEA,CAAtC,CAAgDC,cAAc,CAAEA,CAAhE,CAAgFO,OAAO,CAAEJ,CAAC,CAACC,GAAF,CAAMG,OAA/F,CAJL,CAKHC,OAAO,CAAE,iBAASC,CAAT,CAAe,CACpBC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuBT,CAAC,CAACC,GAAF,CAAMC,OAAN,CAAgB,mCAAhB,CAAoDI,CAAI,CAACI,EACnF,CAPE,CAQHC,KAAK,CAAE,eAASA,CAAT,CAAgB,CACnB,GAAIL,CAAAA,CAAI,CAAGK,CAAK,CAACC,YAAjB,CACAlB,CAAC,CAAC,qBAAD,CAAD,CACKmB,OADL,CACa,6DACLP,CAAI,CAACK,KADA,CACQ,GADR,CACcL,CAAI,CAACQ,OADnB,CAC6B,QAF1C,CAGH,CAbE,CAAP,CAeH,CAjBE,CAmBV,CArBC,CAAN","sourcesContent":["/**\n * Javascript module for handling the migration of an assignment.\n *\n * @package   turnitintooltwo\n * @copyright Turnitin\n * @author 2019 David Winn <dwinn@turnitin.com>\n * @module mod_turnitintooltwo/migration_tool_migrate\n */\n\ndefine(['jquery'],\n    function($) {\n        return {\n            migration_tool_migrate: function(courseid, turnitintoolid) {\n                $.ajax({\n                    \"dataType\": 'json',\n                    \"type\": \"POST\",\n                    url: M.cfg.wwwroot + \"/mod/turnitintooltwo/ajax.php\",\n                    \"data\": {action: \"begin_migration\", courseid: courseid, turnitintoolid: turnitintoolid, sesskey: M.cfg.sesskey},\n                    success: function(data) {\n                        window.location.href = M.cfg.wwwroot + \"/mod/turnitintooltwo/view.php?id=\"+data.id;\n                    },\n                    error: function(error) {\n                        var data = error.responseJSON;\n                        $('#turnitintool_style')\n                            .prepend('<div id=\"full-error\" class=\"box generalbox noticebox\">' +\n                                data.error + ' ' + data.message + '</div>');\n                    }\n                });\n            }\n        };\n    }\n);"],"file":"migration_tool_migrate.min.js"}