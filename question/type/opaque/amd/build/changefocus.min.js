define ("qtype_opaque/changefocus",["jquery"],function(a){var b={init:function init(){a(document).ready(function(){var c=a("input[id*=\"_omact_gen_\"]"),d=a("input[id*=\"omact_ok\"]"),e=localStorage.getItem("last_question_index");localStorage.removeItem("last_question_index");if(null!==e){setTimeout(function(){a("html, body").animate({scrollTop:a("#q"+e).offset().top},100);var b=a("input[id*=\":"+e+"_omact_ok\"]");if(0<a(b).length){a(b).focus()}else{a("input[id*=\"_omact_ok\"]").blur()}},350)}d.on("keydown",function(c){var d=c.keyCode||c.which;c.preventDefault();if(9==d&&!c.shiftKey){var e=b.getQuestionIndex(c);a("#q"+e+" input.questionflagimage").focus();a(this).attr("tabindex",-1)}});a(c).click(function(a){localStorage.setItem("last_question_index",b.getQuestionIndex(a))});a(d).click(function(a){localStorage.setItem("last_question_index",b.getQuestionIndex(a))})})},getQuestionIndex:function getQuestionIndex(a){var b=a.target.id,c=b.substr(b.indexOf(":")+1);c=c.substr(0,c.indexOf("_"));return c}};return b});
//# sourceMappingURL=changefocus.min.js.map
